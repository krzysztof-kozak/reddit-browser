(this["webpackJsonpreddit-browser"]=this["webpackJsonpreddit-browser"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(2),s=a.n(o),i=a(5),u=a(1),m=function(e){var t=e.title,a=e.url,n=e.author;return r.a.createElement("li",{className:"list__item"},r.a.createElement("a",{className:"link",href:"https://www.reddit.com/".concat(a),target:"_blank",rel:"noopener noreferrer"},t),r.a.createElement("p",{className:"author"},"posted by ",r.a.createElement("strong",null,n)))},p=function(e){var t=e.posts,a=e.fetchPosts,l=e.pages,c=e.sortBy,o=Object(n.useState)(0),s=Object(u.a)(o,2),i=s[0],p=s[1];return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"subreddit-title"},"Posts from ",r.a.createElement("b",null,t[0].subredditName)),r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement(m,{sortBy:c,title:e.title,url:e.url,author:e.author,key:e.key})}))),r.a.createElement("div",{className:"button-wrapper"},r.a.createElement("button",{className:"list__button",onClick:function(){p((function(e){e-t.length>=0?p((function(e){return e-t.length})):p(0)})),a(l.before,null,i)}},"Prev Page"),r.a.createElement("button",{className:"list__button",onClick:function(){p((function(e){return e+t.length})),a(null,l.after,i)}},"Next Page"))):null},f=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(10),o=Object(u.a)(c,2),m=o[0],f=o[1],d=Object(n.useState)("new"),b=Object(u.a)(d,2),h=b[0],E=b[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),w=v[0],_=v[1],N=Object(n.useState)({}),j=Object(u.a)(N,2),k=j[0],O=j[1],y=Object(n.useState)(null),S=Object(u.a)(y,2),x=S[0],B=S[1],P=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r,l,c,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2&&void 0!==o[2]?o[2]:0,e.next=5,fetch("https://www.reddit.com/r/".concat(a,"/").concat(h,".json?limit=").concat(m,"&count=").concat(r).concat(n?"&after=".concat(n):"").concat(t?"&before=".concat(t):""));case 5:if(404!==(l=e.sent).status){e.next=12;break}console.log(l),B("I couldn't find this subreddit: https://www.reddit.com/r/".concat(a)),_(!1),e.next=18;break;case 12:return e.next=14,l.json();case 14:c=e.sent,B(null),C(c),F(c);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){var t=e.data.children.filter((function(e){return!1===e.data.stickied})).map((function(e){return{title:e.data.title,url:e.data.permalink,subredditName:e.data.subreddit_name_prefixed,author:e.data.author,key:e.data.id}}));_(t)},F=function(e){O({before:e.data.before,after:e.data.after})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),a&&P()}},r.a.createElement("h1",{className:"form__title"},"Reddit App"),r.a.createElement("p",{className:"search-wrapper"},r.a.createElement("label",{className:"form__label form__label--main"},"reddit/r"),r.a.createElement("input",{className:"form__input",id:"search",placeholder:"e.g reactjs",onChange:function(e){return l(e.target.value.replace(/\s+/g,""))}})),r.a.createElement("p",{className:"search-wrapper"},r.a.createElement("label",{className:"form__label",htmlFor:"postLimit"},"posts per page"),r.a.createElement("select",{className:"form__select",id:"postLimit",value:m,onChange:function(e){f(e.target.value)}},r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:20},"20"),r.a.createElement("option",{value:30},"30"))),r.a.createElement("p",{className:"search-wrapper"},r.a.createElement("label",{className:"form__label",htmlFor:"sortBy"},"sort posts by"),r.a.createElement("select",{className:"form__select",id:"sortBy",value:h,onChange:function(e){E(e.target.value)}},r.a.createElement("option",{value:"new"},"new"),r.a.createElement("option",{value:"top"},"top"),r.a.createElement("option",{value:"hot"},"hot"),r.a.createElement("option",{value:"rising"},"rising"))),r.a.createElement("button",{className:"form__button",type:"submit"},"search"),x?r.a.createElement("p",{className:"error"},x):null),r.a.createElement(p,{posts:w,pages:k,fetchPosts:P,sortBy:h,postLimit:m}))};var d=function(){return r.a.createElement(f,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(12);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports=a(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.d29cb8d5.chunk.js.map